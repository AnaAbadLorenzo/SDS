<!DOCTYPE html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Expires" content="0">
	<meta http-equiv="Last-Modified" content="0">
	<meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
	<link rel="stylesheet" href="css/bootstrap.min.css" >
	<link rel="stylesheet" type="text/css" href="css/comun.css" media="screen" />
	<link rel="stylesheet" type="text/css" href="css/gestionPersonas.css" media="screen" />
	<script src="js/jquery-3.6.0.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/login.js"></script>
	<script type="text/javascript" src="js/registro.js"></script>		
	<script type="text/javascript" src="js/funcionesComunes.js"></script>
	<script type="text/javascript" src="js/configURLs.js"></script>
	<script type="text/javascript" src="js/configPaginacion.js"></script>
	<script type="text/javascript" src="js/md5.js"></script>
	<script type="text/javascript" src="js/validaciones.js"></script>
	<script type="text/javascript" src="js/menu.js"></script>
	<script type="text/javascript" src="js/paginacion.js"></script>
  <script type="text/javascript" src="js/gestionPersonas.js"></script>
	<script type="text/javascript" src="Locale/idioma.js"></script>
    <script type="text/javascript" src="Locale/Lang_EN.js"></script>
    <script type="text/javascript" src="Locale/Lang_ES.js"></script>
    <script type="text/javascript" src="Locale/Lang_GA.js"></script>	
    <link rel="shortcut icon" type="image/png" href="images/iconoIndex2.png">
    <title>Sustainable Development Society</title>
</head>
<body onload="(async ()=>{
	await includeTopMenu();
    await funcionalidadesUsuario();
    modalCambioPass();
	cargarIdioma();includeFooter();setLang('');comprobarTokenUsuario();
  await cargarPersonas(0, tamanhoPaginaPersona, 'PaginadorNo');
  await cargarPermisosFuncPersona();
  ejecutaFuncion(function(){compruebaFuncionalidadesPermisos('PERSONA')},30000);
  })();">  
	<div id="topMenu"></div>

	<div class="modal modal3 fade" id="changePass-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
	</div>

	<h1 class="gestion GESTION_PERSONAS"></h1>

  <div id="personaInfoParaUsuario">
    	<div id = "cardPersona" class="card card-person"></div>
    	<br>
    	<div id="cardUsuario" class="card card-user"></div>
      <br>
      <div id="cardEmpresa" class="card card-enterprise"></div>
      <br>
  </div>

  <div id="personaInfoParaAdmin">
      <div class="cabecera">
        <div id="divAddPersona" name="btnAdd" value="Añadir" data-toggle="" data-target="" onclick="javascript:showAddPersonas()" 
          class=" tooltip addIcon">
            <img id="btnAddPersona" class="iconoAdd" src="images/add.png" alt="Añadir" />
            <span class="tooltiptext iconAddPersona ICONO_ADD"></span>
        </div>      

        <div id="divListarPersonas" name="btnSearch" value="Buscar" data-toggle="" data-target="" 
          onclick="" class="tooltip searchIcon">
            <img id="btnListarPersona" class="iconoSearch iconSearch" src="images/search.png" alt="Buscar Persona" />
            <span class="tooltiptext iconSearch ICONO_SEARCH"></span>
        </div>

        <div id="divSearchDelete" name="btnSearchDelete" value="Buscar Eliminados" onclick="" class="tooltip searchDeleteIcon">
            <img id = "btnSearchDelete" class="iconoSearchDelete iconSearchDelete" src="images/searchDelete4.png" alt="Buscar Personas Eliminadas" />
            <span class="tooltiptext iconSearchDelete ICONO_SEARCH_DELETE"></span>
        </div>

        <div name="btnRefresh" value="Buscar" onclick="javascript:refrescarTabla(0, tamanhoPaginaPersona)" class="tooltip refreshIcon">
            <img class="iconoRefresh iconRefresh" src="images/refresh3.png" alt="Refrescar Tabla" />
            <span class="tooltiptext iconRefresh ICON_REFRECH_TABLE"></span>
        </div>

        <div name="btnHideShowColumns" value="Buscar" onclick="javascript:hideShowColumnsWindow();" class="tooltip hideShowIcon">
            <img class="iconoHideShow iconHideShow" src="images/hideTable.png" alt="Ocultar/Mostrar Columnas" />
            <span class="tooltiptext iconHideShow ICON_SHOW_HIDE_COLUMNS"></span>
        </div>     
      </div>

      <div class = "cabeceraEliminados" hidden>
        <div id="divVolverAtras" name="btnVolverAtras" value="Volver" onclick="javascript:refrescarTabla(0, tamanhoPaginaPersona)" class="tooltip volverAtrasIcon">
              <img id="btnVolverAtras" class="iconoVolverAtras" src="images/back3.png" alt="Volver" />
              <span class="tooltiptext iconoVolverAtras ICONO_BACK"></span>
          </div> 
        </div>    

      <div class="table-responsive" id="tablaDatos">
        <table class="table table-bordered" id="tablaPersonas">
          <thead>
              <tr>
                <th scope="col" class="colFirst DNI_COLUMN">
                  <div class="DNI dniColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(0, 'tablaPersonas')" 
                        class="tooltip ordenarIconDNI">
                          <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                          <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>
                  
                <th scope="col" class="NOMBRE_PERSONA_COLUMN">
                  <div class="NOMBRE_PERSONA nombrePersonaColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(1, 'tablaPersonas')" 
                        class="tooltip ordenarIconNombrePersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="APELLIDOS_PERSONA_COLUMN">
                  <div class="APELLIDOS_PERSONA apellidosPersonaColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(2, 'tablaPersonas')" 
                        class="tooltip ordenarIconApellidosPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="DIRECCION_PERSONA_COLUMN">
                  <div class="DIRECCION_PERSONA direccionPersonaColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(3, 'tablaPersonas')" 
                        class="tooltip ordenarIconDireccionPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="FECHA_NACIMIENTO_PERSONA_COLUMN">
                  <div class="FECHA_NACIMIENTO_PERSONA fechaNacimientoPersonaColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(4, 'tablaPersonas')" 
                        class="tooltip ordenarIconFechaNacimientoPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                 <th scope="col" class="TELEFONO_COLUMN">
                  <div class="TELEFONO telefonoColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(5, 'tablaPersonas')" 
                        class="tooltip ordenarIconTelefonoPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="EMAIL_COLUMN">
                  <div class="EMAIL emailColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(6, 'tablaPersonas')" 
                        class="tooltip ordenarIconEmailPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="ACTIVO_COLUMN">
                  <div class="ACTIVO activoColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(7, 'tablaPersonas')" 
                        class="tooltip ordenarIconActivo">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="LOGIN_USUARIO_COLUMN">
                  <div class="LOGIN_USUARIO loginUsuarioColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(8, 'tablaPersonas')" 
                        class="tooltip ordenarIconLoginUsuarioPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                <th scope="col" class="NOMBRE_EMPRESA_COLUMN">
                  <div class="NOMBRE_EMPRESA nombreEmpresaColumn"></div>
                      <div name="btnOrdenar" value="Ordenar" onclick="sortTable(9, 'tablaPersonas')" 
                        class="tooltip ordenarIconNombreEmpresaPersona">
                            <img class="iconoOrdenar iconOrdenar" src="images/ordenacion.png" alt="Ordenar"/>
                            <span class="tooltiptext iconOrdenar ORDENAR"></span>
                      </div>
                </th>

                
                <th scope="col" class="colLast ACCIONES"></th>
              
              </tr>
          </thead>
          <tbody id="datosPersona" class="bodyGestionPersonas"></tbody>
        </table>
      </div>

      <div class="filasTabla">
          <div id="paginacion"></div>
      </div>

      <div id="showHideColumns" style="display: none;">
        <div id='checkboxColumnas'>
        </div>
      </div>

      <div id="itemPaginacion" class="paginacion">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            </ul>
        </nav>
      </div>
  </div>

  <div class="modal modal2 fade" id="form-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
      <div class="formmodal-container">
        <div id="formularioAcciones">
          <div id="contenidoForm">
            <div class="formularioComun">
              <h1 id="tituloForms" class="datos"></h1>
              <p id = "subtitulo" class="SEGURO_ELIMINAR_PER" hidden></p>
              <form name="formularioGenerico" id="formularioGenerico" action="" onsubmit="">
                <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active DATOS_PERSONALES" data-toggle="tab" href="#datosPersonales"></a>
                    <img class="iconTab" id="iconoTabDatosPersonales" src="images/failed.png" hidden>
                  </li>
                  <li class="nav-item">
                    <a id="datosUser"class="nav-link DATOS_USUARIO" data-toggle="tab" href="#datosUsuario"></a>
                    <img class="iconTab" id="iconoTabDatosUsuario" src="images/failed.png" hidden>
                  </li>
                </ul>
                <div class="tab-content">
                  <div id="datosPersonales" class="container tab-pane active overflow-auto"><br>
                    <label class="labelForm DNI" id="labelDNI" hidden></label>
                    <input type="text" name="dni" placeholder="DNI" id="dniP" class="dni DNI" maxlength="9" size="9" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioDNI">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <small class="FORMATO_DNI"></small>
                    <div style="display:none" id="errorFormatoDni"></div>

                    <label class="labelForm NOMBRE_PERSONA" id="labelNombrePersona" hidden></label>
                    <input type="text" name="nombre" id="nombreP" placeholder="Nombre" class="NOMBRE_PERSONA" maxlength="56" size="56" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioNombre">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoNombrePersona"></div>

                    <label class="labelForm APELLIDOS_PERSONA" id="labelApellidosPersona" hidden></label>
                    <input type="text" name="apellidos" id='apellidosP' placeholder="Apellidos" class="APELLIDOS_PERSONA" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioApellidos">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoApellidosP"></div>
                      
                    <label class="labelForm FECHA_NACIMIENTO_PERSONA" id="labelFechaNacimiento" hidden></label>
                    <input type="date" name="fechaNacimiento" id='fechaNacP' value="1900-01-01" min="1900-01-01" max="3000-01-01" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioFechaNac">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoFecha"></div>

                    <label class="labelForm DIRECCION_PERSONA" id="labelDireccionPersona" hidden></label>
                    <input type="text" name="direccion" id='direccionP' placeholder="Direccion" class="DIRECCION_PERSONA" maxlength="128" size="128" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioDireccion">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoDireccion"></div>

                    <label class="labelForm TELEFONO" id="labelTelefono" hidden></label>
                    <input type="tel" name="telefono" id='telefonoP' placeholder="988212121" pattern="[0-9]{3}[0-9]{3}[0-9]{3}" maxlength="9" size="9" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioTelefono">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <small class="FORMATO_TELF"></small>
                    <div style="display:none" id="errorFormatoTelefono"></div>

                    <label class="labelForm EMAIL" id="labelEmail" hidden></label>
                    <input type="email" name="email" id="emailP" placeholder="Email" class="EMAIL_USUARIO" maxlength="48" size="48" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioEmail">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <small class="FORMAT_EMAIL"></small>
                    <div style="display:none" id="errorFormatoEmail"></div>
                  </div>

                  <div id="datosUsuario" class="container tab-pane fade"><br>
                    <label class="labelForm LOGIN_USUARIO" id="labelLoginUsuario" hidden></label>
                    <input type="text" name="user" id="usuario" placeholder="Usuario" class="LOGIN_USUARIO"  maxlength="45" size="45" onblur="" >
                    <div class="obligatorio tooltip2" id="obligatorioUsuario">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoUserRegistro"></div>

                    <label class="labelForm PASS_USUARIO" id="labelPassUsuario" hidden></label>
                    <input type="password" name="pass" id="passwdUsuario1" placeholder="Contraseña" class="PASS_USUARIO" maxlength="45" size="45" onKeyPress="capLock(event, 'bloqueoMayusculasRegistro');" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioPass1">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoPassRegistro"></div>

                    <label class="labelForm PASS_USUARIO" id="labelPassUsuarioRepe" hidden></label>
                    <input type="password" name="confirmarPass" id="passwdUsuario2" placeholder="ConfirmarContraseña" class="CONFIRMAR_PASS_USUARIO" maxlength="45" size="45" maxlength="45" size="45"  onKeyPress="capLock(event, 'bloqueoMayusculasRegistro');" onblur="">
                    <div class="obligatorio tooltip2" id="obligatorioPass2">*
                      <span class="tooltiptext2 campoObligatorio CAMPO_OBLIGATORIO">Campo obligatorio</span>
                    </div>
                    <div style="display:none" id="errorFormatoPassRegistro2"></div> 
                    <div style="display:none" class="BLOQUEO_MAYUSCULAS alert alert-warning" id="bloqueoMayusculasRegistro"></div>
                    <div id="error" class="alert alert-danger ocultar" role="alert" class="CONTRASEÑAS_NO_COINCIDEN"></div>
                  </div>
                </div>

                <button type="submit" name="btnAcciones" value="" class="tooltip" id="btnAcciones">
                  <img class="" src="" alt="" id="iconoAcciones" />
                    <span class="tooltiptext" id="spanAcciones"></span>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

	<div class="volver">
		<div name="btnBack" value="Volver" onclick="javascript:volver()" class="tooltip backIcon">
        		<img class="iconoBack iconBack" src="images/home2.png" alt="Volver" />
        		<span class="tooltiptext iconBack ICONO_VOLVER">Menú</span>
    		</div>   
	</div>

  <div id="modal" tabindex="-1" role="dialog" style="display:none">
    <div class="modal-dialog" role="document" id="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <img src="" name="aviso" class="imagenAviso"/>
          <h3 id="modal-title" class="modal-title"></h3>
        </div>
      <div id='modal-mensaje' class="modal-body"></div>
          <div id="modalFooter" class="modal-footer">
              <a id="cerrar" href="#" onclick="cerrarModal('modal')" class="tooltip5">
                <img class="iconCerrar" alt="Cerrar" src="images/close.png"/>
                    <span class="tooltiptext5 ICONO_CERRAR"></span>
            </a>
        </div>
    </div>
  </div>

	<div id="footer"></div>
</body>
</html>